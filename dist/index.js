!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.DomDataDridge=e():t.DomDataDridge=e()}(this,(function(){return(()=>{"use strict";var t={46:(t,e,r)=>{function o(t){return"String"===Object.prototype.toString.call(t).slice(8,-1)}function a(t){return"Object"===Object.prototype.toString.call(t).slice(8,-1)}function i(t){return"Array"===Object.prototype.toString.call(t).slice(8,-1)}function n(t){return"RegExp"===Object.prototype.toString.call(t).slice(8,-1)}r.d(e,{default:()=>c});const s={String,Number,Boolean,Object:t=>{if(a(t))return t;if(o(t)){let e=JSON.parse(t);if(a(e))return e}throw Error("is not Object")},Array:t=>{if(i(t))return t;if(o(t)){let e=JSON.parse(t);if(i(e))return e}throw Error("is not Array")}};class c{constructor(t={}){this.dataMap={},n(t.exclude)&&(this.exclude=t.exclude)}push(t){var e;if((a(t)||"DOMStringMap"===(e=t,Object.prototype.toString.call(e).slice(8,-1)))&&Object.assign(this.dataMap,t),o(t))try{Object.assign(this.dataMap,JSON.parse(t.trim()))}catch(e){console.error(` parse error ${t} ignored`,e)}}schemaParse(t,e){let r=e.type,o=e.default;try{if(this.exclude&&this.exclude.test(this.dataMap[t]))throw Error(`${this.dataMap[t]} by ${this.exclude} excluded`);return n(r)&&r.test(this.dataMap[t])?this.dataMap[t]:r?s[r.name||String(r)](this.dataMap[t]):this.dataMap[t]}catch(t){if(o)return o}}get(t,e=!0){if(!a(t))throw Error(`${this} schema is not a JSON`);let r={};for(const e in t)if(t.hasOwnProperty(e)){const o=t[e];if(e in this.dataMap){if(a(o)&&("type"in o||"default"in o)){let t=this.schemaParse(e,o);void 0!==t&&(r[e]=t)}}else"default"in o&&(r[e]=o.default)}return e?Object.freeze(r):r}}}},e={};function r(o){if(e[o])return e[o].exports;var a=e[o]={exports:{}};return t[o](a,a.exports,r),a.exports}return r.d=(t,e)=>{for(var o in e)r.o(e,o)&&!r.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r(46)})().default}));