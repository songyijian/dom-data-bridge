!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.DomDataDridge=e():t.DomDataDridge=e()}(this,(function(){return(()=>{"use strict";var t={46:(t,e,r)=>{function a(t){return"String"===Object.prototype.toString.call(t).slice(8,-1)}function o(t){return"Object"===Object.prototype.toString.call(t).slice(8,-1)}function i(t){return"Array"===Object.prototype.toString.call(t).slice(8,-1)}function n(t){return"RegExp"===Object.prototype.toString.call(t).slice(8,-1)}r.d(e,{default:()=>c});const s={String,Number,Boolean,Object:t=>{if(o(t))return t;if(a(t)){let e=JSON.parse(t);if(o(e))return e}throw Error("is not Object")},Array:t=>{if(i(t))return t;if(a(t)){let e=JSON.parse(t);if(i(e))return e}throw Error("is not Array")}};class c{constructor(t={}){this.dataMap={},n(t.exclude)&&(this.exclude=t.exclude)}push(t){var e;if((o(t)||"DOMStringMap"===(e=t,Object.prototype.toString.call(e).slice(8,-1)))&&Object.assign(this.dataMap,t),a(t))try{Object.assign(this.dataMap,JSON.parse(t.trim()))}catch(e){console.error(` parse error ${t} ignored`,e)}}schemaParse(t,e){let r=e.type,a=e.default;try{if(this.exclude&&this.exclude.test(this.dataMap[t]))throw new Error(`${this.dataMap[t]} by exclude excluded`);return n(r)&&r.test(this.dataMap[t])?this.dataMap[t]:r?s[r.name||String(r)](this.dataMap[t]):this.dataMap[t]}catch(t){if(a)return a}}get(t,e=!0){if(!o(t))throw Error(`${this} schema is not a JSON`);let r={};for(const e in t)if(t.hasOwnProperty(e)){const a=t[e];e in this.dataMap?o(a)&&("type"in a||"default"in a)&&void 0!==this.schemaParse(e,a)&&(r[e]=this.schemaParse(e,a)):"default"in a&&(r[e]=a.default)}return e?Object.freeze(r):r}}}},e={};function r(a){if(e[a])return e[a].exports;var o=e[a]={exports:{}};return t[a](o,o.exports,r),o.exports}return r.d=(t,e)=>{for(var a in e)r.o(e,a)&&!r.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r(46)})().default}));